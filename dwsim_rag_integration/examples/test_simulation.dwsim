# DWSIM Process Simulation - Modular Methanol Production Plant
# This simulation represents a simplified methanol synthesis process
# for modular plant design and feasibility analysis

simulation_name: "Modular Methanol Synthesis Process"
created_by: "PyNucleus-Model Intelligent Design System"
version: "2.0"
process_type: "methanol_synthesis"

# Feed Stream Specifications
feed_streams:
  - name: "syngas_feed"
    components:
      - name: "CO"          # Carbon Monoxide
        mole_fraction: 0.25  # mol/mol (25%)
      - name: "H2"          # Hydrogen
        mole_fraction: 0.65  # mol/mol (65%)
      - name: "CO2"         # Carbon Dioxide
        mole_fraction: 0.08  # mol/mol (8%)
      - name: "N2"          # Nitrogen (inert)
        mole_fraction: 0.02  # mol/mol (2%)
    conditions:
      mass_flow: 1000.0     # kg/hr
      temperature: 523.15   # K (250°C)
      pressure: 5000.0      # kPa (50 bar)
      
  - name: "cooling_water"
    components:
      - name: "H2O"         # Water
        mole_fraction: 1.0   # mol/mol (100%)
    conditions:
      mass_flow: 2500.0     # kg/hr
      temperature: 298.15   # K (25°C)
      pressure: 300.0       # kPa (3 bar)

# Process Equipment
equipment:
  - name: "preheater_E101"
    type: "heat_exchanger"
    specifications:
      duty: 150.0           # kW
      approach_temp: 10.0   # K
      pressure_drop: 50.0   # kPa
      
  - name: "reactor_R101"
    type: "fixed_bed_reactor"
    specifications:
      volume: 5.0           # m³
      catalyst: "Cu/ZnO/Al2O3"
      pressure: 5000.0      # kPa (50 bar)
      temperature: 523.15   # K (250°C)
      residence_time: 3600.0 # seconds (1 hour)
      
  - name: "separator_V101"
    type: "flash_separator"
    specifications:
      temperature: 313.15   # K (40°C)
      pressure: 300.0       # kPa (3 bar)
      efficiency: 0.95      # dimensionless
      
  - name: "condenser_E102"
    type: "shell_tube_condenser"
    specifications:
      duty: -200.0          # kW (negative = heat removal)
      approach_temp: 5.0    # K
      pressure_drop: 25.0   # kPa

# Target Product Specifications
product_targets:
  - name: "methanol_product"
    components:
      - name: "CH3OH"       # Methanol
        purity: 0.995       # mol/mol (99.5% pure)
    conditions:
      target_flow: 350.0    # kg/hr
      temperature: 298.15   # K (25°C)
      pressure: 101.325     # kPa (1 atm)
      
  - name: "unreacted_gas"
    components:
      - name: "CO"          # Unreacted CO
        expected_fraction: 0.15
      - name: "H2"          # Unreacted H2
        expected_fraction: 0.70
      - name: "CO2"         # CO2 + formed CO2
        expected_fraction: 0.12
      - name: "N2"          # Inert
        expected_fraction: 0.03

# Economic Parameters for Optimization
economics:
  plant_capacity: 8000.0    # tonnes/year methanol
  operating_hours: 8400.0   # hours/year
  utility_costs:
    electricity: 0.12       # $/kWh
    cooling_water: 0.05     # $/m³
    steam: 25.0            # $/tonne
  product_prices:
    methanol: 400.0        # $/tonne
  raw_material_costs:
    syngas: 200.0          # $/tonne
    
# Sensitivity Analysis Parameters
sensitivity_analysis:
  variables:
    - name: "reactor_temperature"
      range: [493.15, 553.15]  # K (220-280°C)
      steps: 10
    - name: "reactor_pressure"
      range: [3000.0, 7000.0]  # kPa (30-70 bar)
      steps: 8
    - name: "h2_co_ratio"
      range: [1.8, 3.2]        # H2/CO molar ratio
      steps: 6
    - name: "feed_flow"
      range: [800.0, 1200.0]   # kg/hr
      steps: 5
      
# Design Constraints
constraints:
  safety:
    max_temperature: 573.15   # K (300°C)
    max_pressure: 8000.0      # kPa (80 bar)
    min_residence_time: 1800.0 # seconds (30 min)
  environmental:
    max_emissions: 10.0       # kg CO2-eq/tonne product
    min_conversion: 0.80      # CO conversion efficiency
  economic:
    min_profit_margin: 0.15   # 15% minimum profit margin
    max_payback_period: 3.0   # years

# Modular Design Parameters
modular_specifications:
  module_type: "skid_mounted"
  transportability: "ISO_container_compatible"
  footprint:
    length: 12.0              # meters
    width: 2.4               # meters
    height: 2.6              # meters
  weight: 15000.0            # kg
  assembly_time: 72.0        # hours on-site
  
# RAG Integration Metadata
rag_metadata:
  process_keywords: ["methanol", "synthesis", "syngas", "catalytic", "modular"]
  industry_applications: ["chemical", "fuel", "solvent", "feedstock"]
  design_patterns: ["reaction_separation", "heat_integration", "recycle_loop"]
  optimization_objectives: ["profit_maximization", "energy_efficiency", "environmental_impact"]

# Process Chemistry (for simulation reference)
reactions:
  - name: "methanol_synthesis_1"
    equation: "CO + 2H2 → CH3OH"
    delta_h: -90.7            # kJ/mol (exothermic)
    equilibrium_constant: "f(T,P)"
    
  - name: "methanol_synthesis_2" 
    equation: "CO2 + 3H2 → CH3OH + H2O"
    delta_h: -49.5            # kJ/mol (exothermic)
    equilibrium_constant: "f(T,P)"
    
  - name: "water_gas_shift"
    equation: "CO + H2O ⇌ CO2 + H2"
    delta_h: -41.2            # kJ/mol (exothermic)
    equilibrium_constant: "f(T)"

# This file will be processed by the mock DWSIM service
# which will generate realistic simulation results 